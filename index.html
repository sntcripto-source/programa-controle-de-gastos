<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Gastos Pessoais</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>üí∞ Controle de Gastos</h1>
            <div class="header-actions">
                <button class="btn-secondary" onclick="app.exportData()">üì• Exportar</button>
                <button class="btn-secondary" onclick="app.importData()">üì§ Importar</button>
            </div>
        </header>

        <!-- Dashboard Summary -->
        <section class="dashboard">
            <div class="stat-card">
                <div class="stat-icon">üí∏</div>
                <div class="stat-content">
                    <h3>Gastos Totais</h3>
                    <p class="stat-value" id="total-expenses">R$ 0,00</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìÖ</div>
                <div class="stat-content">
                    <h3>Gastos Fixos/M√™s</h3>
                    <p class="stat-value" id="fixed-monthly">R$ 0,00</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üöó</div>
                <div class="stat-content">
                    <h3>Gastos com Carro</h3>
                    <p class="stat-value" id="car-total">R$ 0,00</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üí∞</div>
                <div class="stat-content">
                    <h3>Empr√©stimos</h3>
                    <p class="stat-value" id="loans-balance">R$ 0,00</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üõí</div>
                <div class="stat-content">
                    <h3>Gastos Gerais</h3>
                    <p class="stat-value" id="general-total">R$ 0,00</p>
                </div>
            </div>
        </section>

        <!-- Tab Navigation -->
        <nav class="tabs">
            <button class="tab-btn active" onclick="app.switchTab('loans')">
                <span class="tab-icon">üí≥</span>
                Empr√©stimos
            </button>
            <button class="tab-btn" onclick="app.switchTab('fixed')">
                <span class="tab-icon">üìã</span>
                Gastos Fixos
            </button>
            <button class="tab-btn" onclick="app.switchTab('car')">
                <span class="tab-icon">üöó</span>
                Carro
            </button>
            <button class="tab-btn" onclick="app.switchTab('general')">
                <span class="tab-icon">üõí</span>
                Gastos Gerais
            </button>
        </nav>

        <!-- Empr√©stimos Tab -->
        <section id="loans-tab" class="tab-content active">
            <div class="content-grid">
                <div class="form-card">
                    <h2>Adicionar Empr√©stimo</h2>
                    <form id="loan-form" onsubmit="app.addLoan(event)">
                        <div class="form-group">
                            <label>Descri√ß√£o</label>
                            <input type="text" name="description" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Valor da Parcela (R$)</label>
                                <input type="number" name="amount" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label>Tipo</label>
                                <select name="type" required>
                                    <option value="borrowed">Emprestado (Devo)</option>
                                    <option value="lent">Emprestei</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Taxa de Juros (%)</label>
                                <input type="number" name="interest" step="0.01" value="0">
                            </div>
                            <div class="form-group">
                                <label>Vencimento</label>
                                <input type="date" name="dueDate">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Status</label>
                            <select name="status" required>
                                <option value="pending">Pendente</option>
                                <option value="paid">Pago</option>
                                <option value="overdue">Atrasado</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" name="isInstallment" id="loan-installment-check"
                                    onchange="app.toggleInstallmentFields('loan')">
                                Parcelar?
                            </label>
                        </div>
                        <div id="loan-installment-fields" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>N√∫mero de Parcelas</label>
                                    <input type="number" name="installments" min="2" max="120" value="12">
                                </div>
                                <div class="form-group">
                                    <label>Data de In√≠cio</label>
                                    <input type="date" name="installmentStartDate">
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Adicionar</button>
                    </form>
                </div>
                <div class="list-card">
                    <h2>Empr√©stimos</h2>
                    <div class="filter-bar">
                        <select id="loans-month-filter" onchange="app.filterLoans()">
                            <option value="">Todos os Meses</option>
                        </select>
                    </div>
                    <div id="loans-list" class="items-list"></div>
                </div>
            </div>
        </section>

        <!-- Gastos Fixos Tab -->
        <section id="fixed-tab" class="tab-content">
            <div class="content-grid">
                <div class="form-card">
                    <h2>Adicionar Gasto Fixo</h2>
                    <form id="fixed-form" onsubmit="app.addFixed(event)">
                        <div class="form-group">
                            <label>Descri√ß√£o</label>
                            <input type="text" name="description" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Valor Mensal (R$)</label>
                                <input type="number" name="amount" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label>Categoria</label>
                                <select name="category" required>
                                    <option value="rent">Aluguel</option>
                                    <option value="internet">Internet</option>
                                    <option value="phone">Telefone</option>
                                    <option value="utilities">Contas (√Ågua/Luz/G√°s)</option>
                                    <option value="subscription">Assinaturas</option>
                                    <option value="other">Outros</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Dia do Vencimento</label>
                            <input type="number" name="dueDay" min="1" max="31" required>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" name="isInstallment" id="fixed-installment-check"
                                    onchange="app.toggleInstallmentFields('fixed')">
                                Parcelar?
                            </label>
                        </div>
                        <div id="fixed-installment-fields" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>N√∫mero de Parcelas</label>
                                    <input type="number" name="installments" min="2" max="120" value="12">
                                </div>
                                <div class="form-group">
                                    <label>Data de In√≠cio</label>
                                    <input type="date" name="installmentStartDate">
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Adicionar</button>
                    </form>
                </div>
                <div class="list-card">
                    <h2>Gastos Fixos Mensais</h2>
                    <div class="filter-bar">
                        <select id="fixed-month-filter" onchange="app.filterFixed()">
                            <option value="">Todos os Meses</option>
                        </select>
                    </div>
                    <div id="fixed-list" class="items-list"></div>
                </div>
            </div>
        </section>

        <!-- Carro Tab -->
        <section id="car-tab" class="tab-content">
            <div class="content-grid">
                <div class="form-card">
                    <h2>Adicionar Gasto com Carro</h2>
                    <form id="car-form" onsubmit="app.addCar(event)">
                        <div class="form-group">
                            <label>Descri√ß√£o</label>
                            <input type="text" name="description" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Valor (R$)</label>
                                <input type="number" name="amount" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label>Categoria</label>
                                <select name="category" required>
                                    <option value="fuel">Combust√≠vel</option>
                                    <option value="maintenance">Manuten√ß√£o</option>
                                    <option value="insurance">Seguro</option>
                                    <option value="taxes">Impostos</option>
                                    <option value="repairs">Reparos</option>
                                    <option value="other">Outros</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Data</label>
                                <input type="date" name="date" required>
                            </div>
                            <div class="form-group">
                                <label>Quilometragem (opcional)</label>
                                <input type="number" name="mileage">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" name="isInstallment" id="car-installment-check"
                                    onchange="app.toggleInstallmentFields('car')">
                                Parcelar?
                            </label>
                        </div>
                        <div id="car-installment-fields" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>N√∫mero de Parcelas</label>
                                    <input type="number" name="installments" min="2" max="120" value="12">
                                </div>
                                <div class="form-group">
                                    <label>M√™s de In√≠cio (opcional)</label>
                                    <input type="month" name="installmentStartMonth">
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Adicionar</button>
                    </form>
                </div>
                <div class="list-card">
                    <h2>Hist√≥rico de Gastos</h2>
                    <div class="filter-bar">
                        <select id="car-month-filter" onchange="app.filterCar()">
                            <option value="">Todos os Meses</option>
                        </select>
                    </div>
                    <div id="car-list" class="items-list"></div>
                </div>
            </div>
        </section>

        <!-- Gastos Gerais Tab -->
        <section id="general-tab" class="tab-content">
            <div class="content-grid">
                <div class="form-card">
                    <h2>Adicionar Gasto Geral</h2>
                    <form id="general-form" onsubmit="app.addGeneral(event)">
                        <div class="form-group">
                            <label>Descri√ß√£o</label>
                            <input type="text" name="description" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Valor (R$)</label>
                                <input type="number" name="amount" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label>Categoria</label>
                                <select name="category" required>
                                    <option value="food">Alimenta√ß√£o</option>
                                    <option value="transport">Transporte</option>
                                    <option value="health">Sa√∫de</option>
                                    <option value="entertainment">Lazer</option>
                                    <option value="education">Educa√ß√£o</option>
                                    <option value="clothing">Vestu√°rio</option>
                                    <option value="shopping">Compras</option>
                                    <option value="other">Outros</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Data</label>
                            <input type="date" name="date" required>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" name="isInstallment" id="general-installment-check"
                                    onchange="app.toggleInstallmentFields('general')">
                                Parcelar?
                            </label>
                        </div>
                        <div id="general-installment-fields" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>N√∫mero de Parcelas</label>
                                    <input type="number" name="installments" min="2" max="120" value="12">
                                </div>
                                <div class="form-group">
                                    <label>M√™s de In√≠cio (opcional)</label>
                                    <input type="month" name="installmentStartMonth">
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Adicionar</button>
                    </form>
                </div>
                <div class="list-card">
                    <h2>Hist√≥rico de Gastos</h2>
                    <div class="filter-bar">
                        <select id="general-month-filter" onchange="app.filterGeneral()">
                            <option value="">Todos os Meses</option>
                        </select>
                    </div>
                    <div id="general-list" class="items-list"></div>
                </div>
            </div>
        </section>
    </div>

    <input type="file" id="import-file" accept=".json" style="display: none;" onchange="app.handleImport(event)">

    <script src="script.js"></script>
</body>

</html>